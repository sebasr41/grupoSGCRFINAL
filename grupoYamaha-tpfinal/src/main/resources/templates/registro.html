<!DOCTYPE html>
<html  xmlns:th="http://www.thymeleaf.org"
       xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:insert="fragments :: headerfiles">
</head>
<body class="body-gam">
<header th:insert="fragments :: nav"></header>

<div class="container d-flex justify-content-center mb-5 text-light">
    <div class="bg-pv--form col-md-8 rounded">
        <div class="card-header">
            <ul class="nav nav-tabs">
                <li class="nav-item">
                    <a class="nav-link gam-text-light" th:href="@{/login}">
                        <i class="fas fa-user"></i> Login</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" th:href="@{/usuario-registro}">
                        <i class="fas fa-user-plus"></i> Registro</a>
                </li>

            </ul>
        </div>
        <div class="card-body">
            <form class="bg-pv--form" th:action="@{/usuario-registrar}" th:object="${usuario}" method="post" sec:authorize="!isAuthenticated()">
                <!-- control ataque csrf -->
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
                <!-- fin control ataque csrf -->
                
                <div class="row d-flex justify-content-center">
	                <div class="form-group col-md-5">
	                    <label for="nombreUsuario">Nombre de usuario</label>
	                    <input type="text" th:field="*{nombreUsuario}" class="form-control" id="nombreUsuario" name="nombreUsuario" required="required" autocomplete="off">
	                </div>
	                <div class="form-group col-md-5">
	                    <label for="password">Contraseña</label>
	                    <input type="password" th:field="*{password}" class="form-control" id="password" name="password" required="required">
	                </div>
                </div>
                
                
                
                <div class="row d-flex justify-content-center">
					<div class="form-group col-md-5">
						<label for="customerName">Nombre de cliente <i class="fas fa-signature text-light ml-2"></i></label>
						<input th:field="*{customers.customerName}" type="text" class="form-control" id="customerName">
						<div class="form-text alert-danger col-md-12 rounded-bottom " th:if="${#fields.hasErrors('customers.customerName')}" th:errors="*{customers.customerName}" ></div>
					</div>
					<div class="form-group col-md-5">
						<label for="contactFirstName">Apellido de contacto <i class="fas fa-signature text-light ml-2"></i></label>
						<input th:field="*{customers.contactLastName}" type="text" class="form-control" id="contactLastName">
						<div class="form-text alert-danger col-md-12 rounded-bottom " th:if="${#fields.hasErrors('customers.contactLastName')}" th:errors="*{customers.contactLastName}"></div>
					</div>
				</div>					
				<div class="row d-flex justify-content-center">
					<div class="form-group col-md-5">
						<label for="stock">Nombre de contacto <i class="fas fa-signature text-light ml-2"></i></label>
						<input th:field="*{customers.contactFirstName}" type="text" class="form-control" id="contactFirstName">
						<div class="form-text alert-danger col-md-12 rounded-bottom " th:if="${#fields.hasErrors('customers.contactFirstName')}" th:errors="*{customers.contactFirstName}"></div>
					</div>
					<div class="form-group col-md-5">
						<label for="phone">Teléfono  <i class="fas fa-phone ml-2 text-light"></i></label>
						<input th:field="*{customers.phone}" type="number" class="form-control" id="phone">
					   <div class="form-text alert-danger col-md-12 ro  unded-bottom " th:if="${#fields.hasErrors('customers.phone')}" th:errors="*{customers.phone}"></div>
					</div>
				</div>
				
				<div class="row d-flex justify-content-center">
					<div class="form-group col-md-5">
						<label for="addressLine1">Dirección de línea contacto - 1 <i class="fas fa-map-marked-alt ml-2 text-light"></i></label>
						<input th:field="*{customers.addressLine1}" type="text" class="form-control" id="addressLine1">
						<div class="form-text alert-danger col-md-12 rounded-bottom " th:if="${#fields.hasErrors('customers.addressLine1')}" th:errors="*{customers.addressLine1}"></div>
					</div>
					<div class="form-group col-md-5">
						<label for="addressLine2">Dirección de línea contacto - 2 <i class="fas fa-map-marked-alt ml-2 text-light"></i></label>
						<input th:field="*{customers.addressLine2}" type="text" class="form-control" id="addressLine2">
						<div class="form-text alert-danger col-md-12 rounded-bottom " th:if="${#fields.hasErrors('customers.addressLine2')}" th:errors="*{customers.addressLine2}"></div>
					</div>
				</div>
								
				<div class="row d-flex justify-content-center">
					<div class="form-group col-md-5">
						<label for="city">Ciudad </label>
						<input th:field="*{customers.city}" type="text" class="form-control" id="city">
						<div class="form-text alert-danger col-md-12 rounded-bottom " th:if="${#fields.hasErrors('customers.city')}" th:errors="*{customers.city}"></div>
					</div>
					<div class="form-group col-md-5">
						<label for="state">Provincia </label>
						<input th:field="*{customers.state}" type="text" class="form-control" id="state">
						<div class="form-text alert-danger col-md-12 rounded-bottom " th:if="${#fields.hasErrors('customers.state')}" th:errors="*{customers.state}"></div>
					</div>		
				</div>				
				
				<div class="row d-flex justify-content-center">
				<div class="form-group col-md-5">
						<label for="postalCode">Código postal</label>
						<input th:field="*{customers.postalCode}" type="number" class="form-control" id="postalCode">
						
					</div>
					
					<div class="form-group col-md-5">
						<label for="pais">País</label>						
						<select class="form-control" id="pais" th:field="*{customers.coutry}">
		                    <option value="" selected>Seleccione</option>
		                    <option value="Argentina">Argentina</option>
		                    <option value="Chile">Chile</option>
		                    <option value="Bolivia">Bolivia</option>
		                    <option value="Uruguay">Uruguay</option>
		                    <option value="Brasil">Brasil</option>
		                    <option value="Paraguay">Paraguay</option>
	                	</select>
						<div class="form-text alert-danger col-md-12 rounded-bottom " th:if="${#fields.hasErrors('customers.coutry')}" th:errors="*{customers.coutry}"></div>
					</div>
											
				</div>							
				
				<div class="row d-flex justify-content-center">
					<div class="form-group col-md-5">
						<label for="creditLimit">Límite de crédito <i class="fas fa-sort-numeric-up-alt text-light ml-2"></i></label>
						<input th:field="*{customers.creditLimit}" type="number" class="form-control" id="creditLimit">
						<div class="form-text alert-danger col-md-12 rounded-bottom " th:if="${#fields.hasErrors('customers.creditLimit')}" th:errors="*{customers.creditLimit}" ></div>
					</div>
					
					<div class="form-group col-md-5">
					<button type="submit" class="btn btn-primary mt-4" style="margin-top: 1.95rem !important;">Guardar</button>
					
					</div>
				
				</div>
				
                
            </form>

            <p sec:authorize="isAuthenticated()">Ya has iniciado sesión, lo que implica que ya tienes cuenta</p>

            <div th:if="${error}" class="alert alert-danger alert-dismissible fade show mt-2" role="alert">
                <p th:text="${error}"></p>
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
        </div>
    </div>
</div>

<footer th:insert="fragments :: footer"></footer>
<div th:insert="fragments :: scripts"></div>
</body>
</html>